---
title: 互動式通訊中的文字
seo-title: Text in Interactive Communications
description: 建立和編輯用於互動式通訊的文字檔案片段 — 文字是用於建立互動式通訊的四種檔案片段型別之一。 其他三個是條件、清單和佈局片段。
seo-description: Creating and editing text document fragments to be used in Interactive Communications
uuid: fdac3dd8-c6d0-418e-b969-fc791b7bd509
topic-tags: interactive-communications
products: SG_EXPERIENCEMANAGER/6.5/FORMS
discoiquuid: f04050f8-42de-4ef0-b6ed-145d59bbffce
docset: aem65
feature: Interactive Communication
exl-id: b8e84c5d-2ec8-4575-9eed-6b37b04e5d66
source-git-commit: 9d142ce9e25e048512440310beb05d762468f6a2
workflow-type: tm+mt
source-wordcount: '2477'
ht-degree: 0%

---

# 互動式通訊中的文字{#texts-in-interactive-communications}

## 概述 {#overview}

文字檔案片段由一或多個文欄位落組成。 段落可以是靜態或動態的。 動態段落可能包含表單資料模型屬性和變數。 您也可以套用規則，並在文字檔案片段中重複。 例如，稱呼中的客戶名稱可以是表單資料模型(FDM)屬性，其值可在執行階段提供。 透過變更這些值，可使用相同的互動式通訊，為使用代理程式UI的不同客戶準備互動式通訊。

互動式通訊中的文字檔案片段支援下列型別的動態資料：

* **資料模型物件**：資料屬性使用後端資料來源。
* **規則型內容**：根據規則出現或隱藏的文字內容部分。 規則也可以根據表單資料模型屬性和變數。
* **變數**：在文字檔案片段中，變數未繫結至後端資料來源。 在準備互動式通訊以將其提交至發佈程式時，代理程式會填入/選取變數中的值，或將變數繫結至資料來源。
* **重複**：您的互動式通訊中可能會有動態資訊，例如信用卡對帳單中的交易，其發生次數可能會隨著每次產生的互動式通訊而不斷變更。 使用重複，您可以格式化和建構此類動態資訊。 如需詳細資訊，請參閱 [內嵌條件和重複](https://helpx.adobe.com/experience-manager/6-3/forms/using/cm-inline-condition.html).

## 建立文字 {#createtext}

1. 選取 **[!UICONTROL Forms]** > **[!UICONTROL 檔案片段]**.
1. 選取 **[!UICONTROL 建立]** > **[!UICONTROL 文字]**.
1. 指定下列資訊：

   * **[!UICONTROL 標題]**：（選用）輸入文字檔案片段的標題。 標題不一定是唯一的，而且可以有特殊字元和非英文字元。 文字會以其標題（可用時）來參照，例如在縮圖和屬性中。
   * **[!UICONTROL 名稱]**：資料夾中文字的唯一名稱。 資料夾中不能存在任何狀態下具有相同名稱的兩個檔案片段（文字、條件或清單）。 在「名稱」欄位中，您只能輸入英文字元、數字和連字型大小。 「名稱」欄位會根據「標題」欄位自動填入。 在「標題」欄位中輸入的特殊字元、空格、數字和非英文字元，會由「名稱」欄位中的連字型大小取代。 雖然「標題」欄位中的值會自動複製到「名稱」，但您可以編輯該值。

   * **[!UICONTROL 說明]**：輸入文字的說明。
   * **[!UICONTROL 表單資料模型]**：選擇性地選取「表單資料模型」選項按鈕，以根據表單資料模型建立文字。 當您選取表單資料模型選項按鈕時， **[!UICONTROL 表單資料模型]** 欄位隨即顯示。 瀏覽並選取表單資料模型。 建立互動式通訊的文字和條件時，請確定您使用與互動式通訊相同的資料模型。 如需表單資料模型的詳細資訊，請參閱 [資料整合](/help/forms/using/data-integration.md).

   * **[!UICONTROL 標籤]**：若要建立自訂標籤，請在文字欄位中輸入值，然後按Enter鍵。 儲存此文字時，會建立新新增的標籤。

1. 點選 **[!UICONTROL 下一個]**.

   便會顯示「建立文字」頁面。 如果您已選擇建立表單資料模型型文字，則表單資料模型屬性會顯示在左窗格中。

1. 在文字中輸入，並使用下列選項來格式化、條件化，以及在文字中插入表單資料模型屬性和變數：

   * [表单数据模型](#formdatamodel)
   * [变量](#variables)
   * [規則編輯器](#rules)
   * [格式選項](#formatting)

      * [從其他應用程式複製貼上格式化文字](#paste)

      * [反白部分文字](#highlight)
   * [重复](/help/forms/using/cm-inline-condition.md)
   * [特殊字元](#special)
   * [搜尋和取代文字](#searching)
   * [键盘快捷键](/help/forms/using/keyboard-shortcuts.md)

   >[!NOTE]
   >
   >您可以在文字編輯器中使用@符號來新增表單資料模型元素、資料字典元素和變數。 當您在文字編輯器中輸入前面有@的字串時，將會搜尋所有資料模型元素、資料字典元素和變數，並顯示包含已搜尋字串的元素或變數。 您可以瀏覽搜尋結果並選取元素或變數。 如果沒有相符的結果， *找不到相符的結果* 訊息便會顯示。

1. 點選 **[!UICONTROL 儲存]**.

   文字隨即建立。 現在當您建立互動式通訊時，可以繼續使用文字作為建置區塊。

## 编辑文本 {#edittext}

您可以使用以下步驟編輯現有的文字檔案片段。 您也可以選擇在互動式通訊編輯器中編輯文字檔案片段。

1. 選取 **[!UICONTROL Forms]** > **[!UICONTROL 檔案片段]**.
1. 導覽至文字檔案片段並加以選取。
1. 點選 **[!UICONTROL 編輯]**.
1. 進行必要的變更。 如需文字中選項的詳細資訊，請參閱 [建立文字](#createtext).
1. 點選 **[!UICONTROL 儲存]** 然後點選 **[!UICONTROL 關閉]**.

## 使用表單資料模型屬性個人化文字檔案片段 {#formdatamodel}

您可以插入表單資料模型屬性，以個人化文字檔案片段。 透過在文字中插入表單資料模型屬性，您可以在預覽互動式通訊時，從關聯的資料來源擷取及填入收件者特定資料。 如需表單資料模型的詳細資訊，請參閱 [AEM Forms資料整合](/help/forms/using/data-integration.md).

如果您在建立文字時指定了表單資料模型，則表單資料模型中的屬性會顯示在文字編輯器的左窗格中。 文字檔案片段以及包含該文字檔案片段的互動式通訊中，指定的表單資料模型應相同。

![insertfdmelementtext](assets/insertfdmelementtext.png)

* 若要將表單資料模型屬性插入文字中，請將游標置於要插入屬性的位置，然後選取 **[A]** 屬性（點選左窗格中的屬性），然後點選 **[!UICONTROL [B] 新增選取專案]**. 您也可以連點兩下屬性，將其插入至 **[C]** 游標位置。 表單資料模型屬性會以棕色背景顏色反白。

或者，您也可以使用文字編輯器中的@符號來搜尋和新增表單資料模型屬性。 將游標置於要插入屬性的位置。 輸入@，後面接著搜尋字串。 會對檔案片段中可用的所有表單資料模型屬性和變數執行搜尋操作。 系統會擷取包含搜尋字串的屬性或變數，並將其顯示為下拉式清單。 瀏覽搜尋結果，然後按一下您要插入游標位置的屬性。 按Esc鍵以隱藏搜尋結果。

* 允許代理程式編輯表單資料模型屬性在代理程式UI中的值 [準備和傳送互動式通訊](/help/forms/using/prepare-send-interactive-communication.md) 使用Agent UI，點選 **[D]** 該屬性的鎖定圖示，並確保其處於解鎖狀態。 屬性的預設狀態為鎖定，代理程式無法在Agent UI中編輯屬性。

您也可以使用表單資料模型屬性來建構顯示或隱藏部分內容的規則。 如需詳細資訊，請參閱 [在文字中建立規則](#rules).

## 在文字檔案片段中建立和使用變數 {#variables}

變數是可在建立互動式通訊時繫結的預留位置。 變數可繫結至表單資料模型屬性或文字片段。 您也可以保留變數，讓代理程式填寫。

在下列情況下，您可以使用變數來取代表單資料模型屬性：

* 文字檔案片段將用於多個互動式通訊，其中不同互動式通訊的繫結需要不同。
* 文字檔案片段在建立時沒有表單資料模型。 您可以插入變數，稍後在建立互動式通訊時將其繫結至表單資料模型屬性。
* 您需要從文字檔案片段繫結和擷取文字。 只有那些可以繫結至變數的文字檔案片段，不應該有內沒有變數。

在建立或編輯文字檔案片段時，您可以建立和插入變數。 您建立的變數會顯示在Agent UI的「資料」標籤中。 代理程式會指定變數的值，當 [使用Agent UI準備和傳送互動式通訊](/help/forms/using/prepare-send-interactive-communication.md).

### 建立變數 {#createvariables}

1. 在左窗格中，點選 **[!UICONTROL 變數]**.

   「變數」窗格隨即顯示。

   ![變數窗格](assets/variablespane.png)

1. 點選 **[!UICONTROL 建立]**.

   「建立變數」窗格隨即顯示。

1. 輸入下列資訊並點選 **[!UICONTROL 建立]**：

   * **[!UICONTROL 名稱]** ：變數的名稱。
   * **[!UICONTROL 說明]** ：選擇性地輸入變數的說明。
   * **[!UICONTROL 型別]** ：選取變數型別：字串、數字、布林值或日期。
   * **[!UICONTROL 僅允許特定值]** ：針對字串和數字變數，您可以確保代理程式會從代理程式UI中預留位置的一組特定值中進行選擇。 若要指定一組值，請選取此選項，然後指定允許在 **[!UICONTROL 值]** 欄位。

1. 點選 **[!UICONTROL 建立]**.

   變數隨即建立並列於「變數」窗格中。

1. 若要在文字中插入變數，請將游標放在適當的位置，選取變數，然後點選 **[!UICONTROL 新增選取專案]**.

   ![變數已插入](assets/variableinserted.png)

   變數會以淺藍色背景顏色反白，而表單資料模型屬性會以棕色反白。

   或者，您也可以使用文字編輯器中的@符號來搜尋和新增變數。 將游標置於要插入變數的位置。 輸入@，後面接著搜尋字串。 會對檔案片段中可用的所有表單資料模型屬性和變數執行搜尋操作。 系統會擷取包含搜尋字串的屬性和變數，並將其顯示為下拉式清單。 瀏覽搜尋結果，然後按一下您要在游標位置插入的變數。 按Esc鍵以隱藏搜尋結果。

1. 點選 **[!UICONTROL 儲存]**.

## 在文字中建立規則 {#rules}

在文字中使用規則編輯器，您可以建立規則來根據以下條件顯示或隱藏文字字串或內容片段 **預設集條件**. 這些條件可建構於：

* 字符串
* 数字
* 數學運算式
* 日期
* 關聯的表單資料模型屬性
* 您在文字中可能建立的任何變數

### 在文字中建立規則 {#create-rules-in-text}

1. 在建立或編輯文字時，選取您要使用規則條件化的文字字串、段落或內容。

   ![selectcontentapplyrule](assets/selectcontentapplyrule.png)

1. 點選 **[!UICONTROL 建立規則]**.

   「建立規則」對話方塊隨即顯示。 除了字串、數字、數學運算式和日期之外，規則編輯器中也提供下列專案來建立規則的陳述式：

   * 關聯的表單資料模型屬性
   * 您可能已建立的任何變數

   選取要評估的適當選項。

   ![規則編輯器](assets/ruleeditor.png) ![ruleeditorfdm](assets/ruleeditorfdm.png)

   >[!NOTE]
   >
   >集合屬性不支援建立規則來條件化和顯示文字。

1. 選取要評估規則的適當運運算元，例如「等於」、「包含」和「開頭為」。

   ![ruleeditorfdm-1](assets/ruleeditorfdm-1.png)

1. 插入評估運算式、值、資料模型屬性或變數。

   ![根據FDM的來源資料，如果收件者的位置是US，則顯示選取文字的規則](assets/ruleeditorfdm-1-1.png)

   根據FDM的來源資料，如果收件者的位置是US，則顯示選取文字的規則

   * 在建立或編輯規則時，您也可以點選 ![icon_resize](assets/icon_resize.png) （調整大小）以展開「建立規則/編輯規則」對話方塊。 展開的完整視窗對話方塊可讓您拖放表單資料模型屬性和變數來建構規則。 再次點選「調整大小」以返回「建立規則」對話方塊。
   * 您也可以在規則中建立多個條件。
   * 您也可以建立重疊規則，其中規則套用至已套用規則的內容部分。

1. 點選 **[!UICONTROL 完成]**.

   系統會套用規則。 套用規則的文字或內容會以綠色反白。 當您將滑鼠停留在反白顯示的左側控制代碼上時，套用的規則就會出現。

   ![appliedruletext](assets/appliedruletext.png)

   按一下套用規則的左側控制代碼後，您會取得編輯或移除規則的選項。

## 格式化文字 {#formatting}

在建立或編輯文字時，工具列會根據您選擇進行的編輯型別而改變：「段落」、「對齊」或「清單」：

![選取工具列型別](do-not-localize/toolbarselection.png)

選取工具列型別：「段落」、「對齊」或「清單」

![字型編輯工具列](do-not-localize/paragraphtoolbar.png)

字型編輯工具列

![對齊工具列](assets/alignmenttoolbar.png)

對齊工具列

![清單工具列](do-not-localize/listingtoolbar.png)

清單工具列

### 反白顯示/強調文字部分 {#highlight}

若要反白顯示\強調可編輯檔案片段中的部分文字，請選取文字並點選「反白顯示顏色」。

![textbackgroundcolorapplied-1](assets/textbackgroundcolorapplied-1.png)

您可以直接點選基本顏色 `**[A]**` 出現在「基本色彩」調色盤中或點選 **選取** 使用滑桿之後 `**[B]**` 以選擇適當的顏色陰影。

或者，您也可以移至「進階」標籤，選取適當的色相、明亮度和飽和度 `**[C]**` 以建立精確顏色，然後點選「選取」 `**[D]**` 以套用顏色來反白顯示文字。

![textbackgroundcolor-2](assets/textbackgroundcolor-2.png)

### 貼上格式化文字 {#paste}

若要重複使用存在於其他應用程式(例如來自Microsoft®Word或HTML頁面)中的多個文欄位落，請複製該文字並將其貼到文字編輯器中。 複製的文字的格式會保留在文字編輯器中。

您可以複製並貼上可編輯文字檔案片段中的一或多個文欄位落。 例如，您可能有Microsoft® Word檔案，其中包含可接受的居住證明專案符號清單，如下所示：

![pastetextmsword-2](assets/pastetextmsword-2.png)

您可以直接將文字從Microsoft® Word檔案複製並貼上至可編輯的文字檔案片段。 專案符號清單、字型和文字顏色等格式會保留在文字檔案片段中。

![pastetexteditablemodule-1](assets/pastetexteditablemodule-1.png)

>[!NOTE]
>
>不過，貼上文字的格式有些 [限制](https://helpx.adobe.com/aem-forms/kb/cm-copy-paste-text-limitations.html).

## 在文字中插入特殊字元 {#special}

如有需要，請在檔案片段中插入特殊字元。 例如，您可以使用「特殊字元」浮動視窗來插入：

* 幣別符號，例如€、¥和£
* 數學符號，例如∑、√、∂和^
* 標點符號，例如&quot;和&quot;

![specialcharacters-2](assets/specialcharacters-2.png)

文字編輯器已內建對210個特殊字元的支援。 管理員可以 [透過自訂新增對更多/自訂特殊字元的支援](/help/forms/using/custom-special-characters.md).

## 搜尋和取代文字 {#searching}

使用包含大量文字的文字檔案片段時，您需要搜尋特定的文字字串。 您可能也需要以替代字串取代特定字串文字。

「尋找和取代」功能可讓您搜尋（和取代）文字檔案片段中的任何文字字串。 此功能還包括強大的規則運算式搜尋。

1. 開啟文字檔案片段 [編輯](#edittext).
1. 點選 **[!UICONTROL 尋找和取代]**.

1. 輸入要搜尋的文字 **[!UICONTROL 尋找]** 文字方塊與新文字（取代文字） **[!UICONTROL Replace]** 文字方塊並點選 **[!UICONTROL Replace]**.

1. 如果找到搜尋的文字，該文字會以取代文字取代。

   * 如果找到搜尋文字的另一個例項，該例項會在文字檔案片段中反白顯示。 如果您點選 **[!UICONTROL Replace]** 同樣地，如果找到第三個例證，則反白的例證會被取代，且游標會向前移動。
   * 如果找不到其他執行個體，「尋找和取代」對話方塊會顯示訊息：模組已到終點。

   您也可以點選「全部取代」來一次取代所有相符專案。

   「尋找和取代」也包含強大的規則運算式搜尋。 若要在搜尋中使用Regex，請選取 **[!UICONTROL 規則運算式]** 然後點選 **[!UICONTROL 尋找]** 或 **[!UICONTROL Replace]**.
