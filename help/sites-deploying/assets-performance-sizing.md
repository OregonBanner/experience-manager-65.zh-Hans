---
title: Assets性能指南
seo-title: Assets性能指南
description: 了解如何确定用于新数字资产管理(DAM)设置的最佳硬件大小，以及如何解决性能问题
seo-description: 了解如何确定用于新数字资产管理(DAM)设置的最佳硬件大小，以及如何解决性能问题
uuid: 8291c5b9-c543-41cf-8754-445826200930
contentOwner: User
products: SG_EXPERIENCEMANAGER/6.5/SITES
content-type: reference
topic-tags: configuring
discoiquuid: a79839e2-be39-418b-a3bd-f5457e555172
exl-id: fbe15e1b-830b-4752-bd02-0d239a90bc68
source-git-commit: b220adf6fa3e9faf94389b9a9416b7fca2f89d9d
workflow-type: tm+mt
source-wordcount: '1247'
ht-degree: 0%

---

# Assets性能指南{#assets-performance-guide}

在性能至关重要的情况下，通常使用数字资产管理；但是，典型的DAM设置包含许多可能影响性能的硬件和软件组件。 本文档提供了以下内容：

* 有关为新的数字资产管理设置确定最佳硬件大小的信息，请向系统管理员提供
* 面向软件开发人员的信息，他们希望对DAM实例进行性能问题故障诊断

## 性能问题{#performance-issues}

数字资产管理中性能不佳可能会在以下三种方面影响用户体验：交互式性能、资产处理和下载速度。 为了提高性能，必须正确测量观察到的性能并建立目标量度。

**1. 交互式搜索和浏览**&#x200B;用户正在搜索资产或浏览DAM查找器，并抱怨响应时间较慢或搜索结果没有立即显示。 这是一个交互式性能问题。

交互性能以页面响应时间来衡量。 这是从接收HTTP请求到关闭HTTP响应所花费的时间，这可以根据请求日志文件来确定。 典型的目标性能是页面响应时间不到2秒。

**2.资产处理**&#x200B;资产处理问题是用户上传资产时，在将资产随时转换并摄取到AEM DAM之前，需要数分钟。

资产处理性能是根据平均工作流进程完成时间来衡量的。 这是从调用资产更新工作流流程到完成该流程所花费的时间，具体时间可从工作流报表用户界面确定。 典型的目标性能取决于已处理资产的大小、类型以及演绎版的数量。 目标性能示例如下所示：

* 对于使用标准呈现形式的小于1280x1280像素的图像，显示时间低于十秒
* 对于使用标准演绎版的小于100 MB的图像，请在一分钟内
* 短于1分钟的高清视频剪辑的时长低于5分钟

**3.下载速度**&#x200B;从AEM DAM下载时，吞吐量出现问题，浏览DAM管理员或DAM查找器时，缩略图不会立即显示。

吞吐量性能以千比特每秒的下载速率来衡量。 100次并发下载的典型目标性能为每秒300千比特。

**4.影响资产处理性能的因素**

要评估处理资产所需的硬件，需要考虑以下方面：

* 图像的分辨率（以像素为单位）
* 分配给AEM进程的堆

图像中包含的像素数量决定了处理时间 — 更多像素意味着处理需要更长的时间。
图像类型、压缩率或存储图像的文件的相关大小不会对整体性能产生重大影响。

堆已被确定为最重要的限制因素。 每当资产超出可用的可用内存时，处理性能就会迅速下降。

DAM流程非常适合在大量情况下并行执行。 以批量处理和多核处理器上传资产可加快每个资产的绝对逗留时间。

**5.评估执行资产处理的硬件要求**

数字资产的广泛处理需要优化的硬件资源，最相关的因素是图像大小和处理图像的峰值吞吐量。

分配至少16GB的堆，并配置[!UICONTROL DAM更新资产]工作流，以使用[Camera Raw包](/help/assets/camera-raw.md)摄取原始图像。

## 了解系统{#understanding-the-system}

典型的DAM设置由通过负载平衡器访问DAM的最终用户组成。 DAM实例可能是群集设置的一部分，其中每个DAM实例都在物理机或虚拟机上的Java虚拟机进程中运行。 DAM存储在单机设置情况下由RAID磁盘提供，在群集设置情况下由托管网络连接存储提供。

以下图例介绍了一些可能的性能陷阱区域（如果适用）。

**与最终用户的网** 络连接网络连接速度慢可能导致吞吐量问题，在某些情况下也会出现延迟问题。有时，用户与ISP的连接速度会很慢，尤其是在内部网中。 这表示网络拓扑不正确。

**临时文** 件系统缓慢的本地文件系统可能会导致交互性能问题，尤其是当搜索时，因为搜索索引存储在本地磁盘上。此外，如果使用命令行进程，则还会导致资产处理问题。

**AEM DAM Finder** 在搜索中经常遇到的交互式性能问题，是由于同一实例上许多并发用户或其他消耗CPU的进程导致的CPU利用率较高。从虚拟机移动到专用计算机并确保计算机上没有其他服务运行有助于提高性能。 如果由于资产处理和许多并发用户而导致CPU负载较高，则“天”建议添加其他群集节点。

**AEM DAM工** 作流在资产摄取期间长时间运行的工作流流程会导致资产处理性能问题。根据正在处理的资产类型，这可能表示CPU过度利用。 Day建议您减少系统上运行的其他进程数，并通过添加群集节点来增加可用CPU数。

**NAS连** 接性NAS的网络连接较差会导致交互性能问题，因为在资产处理期间访问新节点的速度因网络延迟而减慢。此外，网络吞吐量缓慢会对吞吐量产生不利影响，但也会对资产处理性能产生不利影响，因为加载和保存演绎版的速度会减慢。

NAS中延迟和吞吐量不佳的原因通常是网络拓扑或NAS被其他服务过度利用。

**网络连接存** 储过度使用的网络连接存储系统可能会导致一系列问题：

* 磁盘空间不足是经常遇到的问题，通过适当调整DAM项目大小可以防止出现这种问题。
* 高磁盘延迟将传播到CRX的慢访问时间，并可能导致交互性能问题。
* 磁盘吞吐量低可能导致CQ5 DAM的性能低。

## 性能测试{#testing-for-performance}

对于每个DAM项目，请务必建立性能测试制度，以便快速识别和解决瓶颈。 为此，请考虑以下检查点：

1. 使用JMeter进行端到端性能测试 — 模拟一个搜索和浏览会话示例，以检测交互性能问题。
1. 使用JMeter的吞吐量和延迟测试 — 在客户端计算机上运行可确保不存在拓扑相关问题。
1. 标准化的资产处理测试 — 摄取少量示例资产并测量时间。 这应包括外部工作流集成。
1. 监视每个群集节点的CPU、磁盘和内存使用情况。
1. CRX读/写性能诊断，以识别与非处理相关的问题。
1. 监控网络延迟和从DAM群集到NAS的吞吐量。
1. 如果可能，直接在NAS上测试读写性能以及磁盘延迟。

## 调整瓶颈{#tweaking-bottlenecks}

迄今为止，已在项目中使用以下性能调整：

* 选择性再现生成：只能通过向资产处理工作流中添加条件来生成您需要的演绎版，这样，只能为选定的资产生成成本更高的演绎版。
* 实例之间的共享数据存储：当磁盘空间不足时，这会大大降低所需的磁盘空间量，而成本是配置工作的提高，并且会丢失数据存储的自动清理。

## 进一步阅读{#further-reading}

* [分析缓慢和阻止的进程](https://helpx.adobe.com/experience-manager/kb/AnalyzeSlowAndBlockedProcesses.html)
